plugins {
    id 'java'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.teavm:teavm-classlib:0.7.0'
    implementation 'org.teavm:teavm-core:0.7.0'
    implementation 'org.teavm:teavm-jso:0.7.0'
    implementation 'org.teavm:teavm-cli:0.7.0'
}

task compileTeaVM(type: JavaExec) {
    main = 'org.teavm.cli.TeaVMRunner'
    classpath = sourceSets.main.runtimeClasspath
    args = [
        '-c', 'build/teavm-cache',
        '-d', 'docs',
        '-f', 'classes.js',
        '-t', 'javascript',
        'game.Main'
    ]
}
